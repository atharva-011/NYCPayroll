[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "NYC Payroll Data Analysis",
    "section": "",
    "text": "1 Introduction\nThe topic that we are working on is New York City Payroll Data Analysis. Payroll data provides insights into workforce dynamics, and demographic patterns of municipal employees of New York City. We aim to identify trends and patterns in the payroll of New York municipal employees spanning the last 10 years (2014 - 2023). There are few topics that we think are important to study in order to understand the trends.\n\nCompensation Distribution by Boroughs:\n\nHow does the distribution of employee compensation vary across the different boroughs of New York City? What is the median daily salary, salary distribution(mode, range) per borough?\n\nExamination of Salary Breakdown:\n\nHow are the various components of the total pay such as salary overtime and other pay varies across boroughs?\n\nStudy Regarding Budget Allocation for Each Borough:\n\nIs there any way to analyse geographically, which budget should have highest budget allocation based on salaries?\n\nInfluence of Geographic Location on Workers:\n\nWhat is the worker distribution like for each borough? Can we draw any economical inference from the study?\n\nAnalysis of Prominent Municipal Agencies in NYC:\n\nAre there noticeable patterns in payroll that correlate with specific municipal agencies?\n\nImportant Jobs by Boroughs:\n\nWhich are the top 20 jobs? Which job titles are most prevalent in each borough\n\nGauging Fairness of Overtime Pay:\n\nHow equitable is the distribution of overtime pay among municipal workers, and how has this relationship evolved over time?\n\nAnalysis of Overtime Pay Against Daily Salaries:\n\nWhat trends emerge when comparing daily salaries to overtime compensation among NYC’s municipal employees?\n\nAnalysis of the Workforce’s Preference for Leave Status and Pay Basis\n\nWhat can leave status and pay basis tell us about workforce dynamics within the city’s various departments?\nExamining the impact of job profiles on payroll and identifying any borough-specific jobs will offer a deeper understanding of the payroll dynamics. Furthermore, the analysis into the relationship between overtime work and payroll aims to uncover insights into work culture and potential areas for improvement in work-life balance and the payroll itself(underpaid / overpaid).\nBy addressing above mentioned questions, through exploratory data analysis and visualization we can gain insights to form more inclusive and fair policies aimed at bridging income gaps, a better and inclusive job market, and guiding initiatives related to education, up-skilling, and training to even out the disparity, if any."
  },
  {
    "objectID": "data.html#technical-description",
    "href": "data.html#technical-description",
    "title": "2  Data",
    "section": "2.1 Technical Description",
    "text": "2.1 Technical Description\nThe data that we will be using to analyze Payroll Data is from the NYC Open Data website and is titled as Citywide Payroll Data (Fiscal Year). The data set was created back in 2015 and has been constantly been updated on a annual basis (last update was on November 28,2023). It tells us about the amount of money spent on salaries and overtime pay for all municipal employees based in New York City. The data is provided by Office of Payroll Administration (OPA).\nThe data can be downloaded as a CSV file from the website mentioned above. The entirety of the dataset consists of 5.66 million rows (essentially 5.66 million municipal employees) and 17 columns. Every row basically tells us about the employee salary, their work location, agency, base pay, overtime (if any), etc.\nHowever, the dataset is too large for efficient processing. Hence, we randomly sample our data and retrieve 10000 samples for our analysis. The code for the same can be found below, but has been commented out, as such large files cannot be uploaded to GitHub, and rendering will be affected.\n\n\nCode\n# complete_payroll_data &lt;-\n#   fread(\"./Data/nyc_payroll_data_complete.csv\")\n# # Take Random sample of 10000 rows\n# random_data &lt;- nyc_payroll_data[sample(nrow(nyc_payroll_data)),]\n# nyc_payroll_data &lt;- randomized_data[1:10000,]\n# write.csv(nyc_payroll_data, paste(\"./Data/\", 'nyc_payroll_data.csv'))\n\n#Importing the Dataset\nnyc_payroll_data &lt;- read.csv(\"./Data/nyc_payroll_data.csv\")\n\n\n\n\nCode\nprint(dim(nyc_payroll_data))\n\n\n[1] 10000    17\n\n\n\n\nCode\n# Display Columns of the dataset\n# Display Columns of the dataset\nkable(data.frame(Column_Names = names(nyc_payroll_data)), \"markdown\")\n\n\n\n\n\nColumn_Names\n\n\n\n\nFiscal.Year\n\n\nPayroll.Number\n\n\nAgency.Name\n\n\nLast.Name\n\n\nFirst.Name\n\n\nMid.Init\n\n\nAgency.Start.Date\n\n\nWork.Location.Borough\n\n\nTitle.Description\n\n\nLeave.Status.as.of.June.30\n\n\nBase.Salary\n\n\nPay.Basis\n\n\nRegular.Hours\n\n\nRegular.Gross.Paid\n\n\nOT.Hours\n\n\nTotal.OT.Paid\n\n\nTotal.Other.Pay\n\n\n\n\n\nPresented above are the columns of the dataset.\nOn further examination of the data, we find that there are few inconsistencies in the data:\n\nThe column indicative of the Middle Initial of employees, namely, Mid.Init, does not have explicit NA values. However, it has empty strings such as ““,”-” and “.” which essentially show empty entries and can be considered as NA values. This conversion needs to be made.\n“Work.Location.Borough” has different boroughs from different parts of New York State such as Albany, Westchester, Delaware etc. Moreover, Staten Island has been mentioned as Richmond County and Manhattan and Bronx have been mentioned twice, where they differ in capitalization. The data also has empty strings.\n\nFor our study, we wish to consider only the 5 boroughs of NYC, namely, Manhattan, Brooklyn, Queens, Bronx and Staten Island. The data needs to be preprocessed for the same.\n\nThe salaries for employees have not been mentioned on a consistent scale. We have base salaries mentioned per annum, per day, per hour and on a prorated annual basis as well. The scale needs to be consistent for fair comparisons, and we look to convert the data to a “per Day” basis, so as to compare our results with the daily wage.\nFinally, the data after our preprocessing will contain NA values which need to be dealt with.\n\nThe above inconsistencies have been made based on our analysis as seen below. For the sake of clean code, we have excluded the code and analysis for those columns which did not have any inconsistencies.\n\n\nCode\n#Analyzing Data to Uncover any Possible Inconsistencies\nunique(nyc_payroll_data$Mid.Init)\n\n\n [1] \"A\" \"\"  \"M\" \"L\" \"D\" \"T\" \"B\" \"W\" \"S\" \"K\" \"H\" \"R\" \"N\" \"J\" \"C\" \"F\" \"V\" \"E\" \"Y\"\n[20] \"P\" \"I\" \"O\" \"G\" \"X\" \".\" \"U\" \"Z\" \"1\" \"Q\" \"-\"\n\n\nCode\nunique(nyc_payroll_data$Work.Location.Borough)\n\n\n [1] \"BROOKLYN\"    \"MANHATTAN\"   \"OTHER\"       \"QUEENS\"      \"\"           \n [6] \"BRONX\"       \"RICHMOND\"    \"ULSTER\"      \"WESTCHESTER\" \"DUTCHESS\"   \n[11] \"SULLIVAN\"    \"DELAWARE\"    \"ALBANY\"      \"Manhattan\"   \"Bronx\"      \n\n\nCode\nunique(nyc_payroll_data$Pay.Basis)\n\n\n[1] \"per Hour\"        \"per Annum\"       \"per Day\"         \"Prorated Annual\"\n\n\nApart from handling NA values, the inconsistencies have been dealt with below:\n\n\nCode\n# Converting Empty Strings to NA values in \"Mid.Init\"\nnyc_payroll_data$Mid.Init[nyc_payroll_data$Mid.Init==\"\"] &lt;- NA\nnyc_payroll_data$Mid.Init[nyc_payroll_data$Mid.Init==\"-\"] &lt;- NA\nnyc_payroll_data$Mid.Init[nyc_payroll_data$Mid.Init==\".\"] &lt;- NA\n\n# Fixing Issues in \"Work.Location.Borough\"\nnyc_payroll_data$Work.Location.Borough[nyc_payroll_data$Work.Location.Borough==\"\"] &lt;- NA\nnyc_payroll_data$Work.Location.Borough[nyc_payroll_data$Work.Location.Borough==\"Manhattan\"] &lt;- \"MANHATTAN\"\nnyc_payroll_data$Work.Location.Borough[nyc_payroll_data$Work.Location.Borough==\"Bronx\"] &lt;- \"BRONX\"\nnyc_payroll_data$Work.Location.Borough[nyc_payroll_data$Work.Location.Borough==\"RICHMOND\"] &lt;- \"STATEN ISLAND\"\n\nnyc_boroughs &lt;- c(\"BROOKLYN\", \"MANHATTAN\", \"QUEENS\", \"BRONX\", \"STATEN ISLAND\")\nnyc_payroll_data &lt;- nyc_payroll_data[nyc_payroll_data$Work.Location.Borough %in% nyc_boroughs,]\n\n# Making Data Scale Consistent in Base.Salary through Pay.Basis \n# Adding new column \"Daily.Salary\"\n\nnyc_payroll_data &lt;- nyc_payroll_data[!(nyc_payroll_data$Pay.Basis %in% \"Prorated Annual\"),]\n\nnyc_payroll_data &lt;- nyc_payroll_data |&gt;\n  mutate(\n    Daily.Salary = case_when(\n      Pay.Basis == \"per Hour\" ~ Base.Salary * 24,\n      Pay.Basis == \"per Annum\" ~ Base.Salary / 365,\n      TRUE ~ Base.Salary\n    )\n  )\n\n\nWe save this data as a CSV and read the cleaned version for the next segment.\n\n\nCode\n# write.csv(nyc_payroll_data, \"./Data/cleaned_nyc_payroll.csv\", row.names = FALSE)\nclean_nyc_payroll &lt;- read.csv(\"./Data/cleaned_nyc_payroll.csv\")"
  },
  {
    "objectID": "data.html#research-plan",
    "href": "data.html#research-plan",
    "title": "2  Data",
    "section": "2.2 Research Plan",
    "text": "2.2 Research Plan\n\nTo understand the compensation distribution, we plan to use a boxplot along with a ridgeline plot to check understand the distribution of the median and the mode of the data. We would like to make this comparison across boroughs.\nWhile understanding the distribution of daily pay is important, we also plan to see how these salaries are broken down and how various components of these salaries are distributed across boroughs. Grouped bar charts are the best method to understand how these components vary.\nEach borough has a budget based on the city’s policies. We want to analyze the sum of daily salaries for each borough, to see how the budget should be allocated.\nUsing a bar plot, we also want to see which boroughs have the most number of workers, and we want to analyze why this is so.\nThere are various municipal agencies in NYC. Some are more prominent than the others. This could be a result of the need of the city, the priorities or the preference of the people. Using a faceted cleveland bar plot, we would like to see how workers are distributed across some of the most prominent agencies in NYC.\nEach borough has some jobs which people prefer. Using a heatmap, we would like to see which job titles have the most number of workers for each borough.\nA very important study that needs to be conducted is about the fairness of overtime pay. We plan to use a parallel coordinate plot to show the relationship between Years of Experience, Daily Salaries, Overtime hours and overtime pay. This plot will help us study relationships across multiple variables and unearth any biases or issues.\nWe would also like to see how the base salary and overtime paid vary with each other, and whether they have any correlation, using a scatterplot.\nWe also aim to analyze the leave status and workforce dynamics. Leave status typically indicates whether an employee is on leave or not, and if so, what type of leave they are on. This information is often valuable for HR and management to understand workforce availability, plan for staffing needs, and monitor employee well-being. Along with this, we also use the basis for paying an employee, and whether that has any connection to their current employment status.\nWe also plan to make use of D3 to make an interactive and animated plot, to show the proportion of the average daily salary across various boroughs, for each year."
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.3 Missing Value Analysis",
    "text": "2.3 Missing Value Analysis\n\n\nCode\ncolSums(is.na(clean_nyc_payroll)) |&gt; sort(decreasing = TRUE)\n\n\n                  Mid.Init             Payroll.Number \n                      3594                       2856 \n               Fiscal.Year                Agency.Name \n                         0                          0 \n                 Last.Name                 First.Name \n                         0                          0 \n         Agency.Start.Date      Work.Location.Borough \n                         0                          0 \n         Title.Description Leave.Status.as.of.June.30 \n                         0                          0 \n               Base.Salary                  Pay.Basis \n                         0                          0 \n             Regular.Hours         Regular.Gross.Paid \n                         0                          0 \n                  OT.Hours              Total.OT.Paid \n                         0                          0 \n           Total.Other.Pay               Daily.Salary \n                         0                          0 \n\n\nWe see that only two columns, namely Payroll.Number and Mid.Init have missing values.\n\n\nCode\nplot_missing(clean_nyc_payroll, percent = FALSE)\n\n\n\n\n\nAs can be seen from the above plot, there are four patterns which can be observed in our data. The first being the complete lack of NaN values, whereas the second pattern exhibits missing values in one column only, namely, Mid.Init. There are also rows where only Payroll.Number have missing values, and where both these columns have missing values at the same time.\nThe graph on the right shows that there are nearly 2000 rows exhibiting the second pattern, about 1750 rows exhibiting the third pattern and 1000 rows with missing values in both columns.\nWe also get to see which columns have missing values in the form of a bar chart on top, and see that two columns falls under this category.\n\n\nCode\nmissing_data.frame(clean_nyc_payroll) |&gt; image()\n\n\nNOTE: The following pairs of variables appear to have the same missingness pattern.\n Please verify whether they are in fact logically distinct variables.\n     [,1]        [,2]        \n[1,] \"Last.Name\" \"First.Name\"\n\n\n\n\n\nThis graph shows us the missing values in the entire dataset. The cells represent the actual values after scaling, defined by each row and column of the actual dataset. Higher values take on the lighter colors, whereas colors close to red represent values which are lower.\nThe values in black, indicate missing data. There is no clear pattern which defines why or how a row has missing values. The missing values seem to be random and not related to other columns."
  },
  {
    "objectID": "results.html#compensation-distribution-by-boroughs",
    "href": "results.html#compensation-distribution-by-boroughs",
    "title": "3  Results",
    "section": "3.1 Compensation Distribution by Boroughs",
    "text": "3.1 Compensation Distribution by Boroughs\n\n\nCode\npayroll_no_outliers &lt;- clean_nyc_payroll %&gt;%\n  filter(between(\n    Daily.Salary,\n    quantile(Daily.Salary, 0.25) - 1.5 * IQR(Daily.Salary),\n    quantile(Daily.Salary, 0.75) + 1.5 * IQR(Daily.Salary)\n  ))\n\n# write.csv(payroll_no_outliers, \"./Data/d3_data.csv\", row.names = FALSE)\n\nmedians &lt;- payroll_no_outliers %&gt;%\n  group_by(Work.Location.Borough) %&gt;%\n  summarize(MedianSalary = median(Daily.Salary))\n\npayroll_no_outliers &lt;-\n  left_join(payroll_no_outliers, medians, by = \"Work.Location.Borough\")\n\nggplot(data = payroll_no_outliers, alpha = 0.1) +\n  geom_density_ridges(\n    mapping = aes(\n      x = Daily.Salary,\n      y = reorder(Work.Location.Borough, MedianSalary),\n      fill = reorder(Work.Location.Borough, MedianSalary),\n      scale = 0.8\n    ),\n    show.legend = FALSE,\n    alpha = 0.81\n  ) +\n  geom_boxplot(\n    mapping = aes(\n      x = Daily.Salary,\n      y = reorder(Work.Location.Borough, MedianSalary),\n      fill = reorder(Work.Location.Borough, MedianSalary)\n    ),\n    show.legend = FALSE,\n    alpha = 0.81,\n    lwd = 0.36,\n    width = 0.3\n  ) +\n  labs(\n    title = \"Distribution of Daily Pay by Borough\",\n    subtitle = \"Using Both Boxplots & Ridgeline Plots\",\n    x = \"Daily Salary\",\n    y = \"Borough\"\n  ) +\n  scale_x_continuous(breaks = seq(0, 600, by = 50),\n                     limits = c(0, 600)) +\n  theme_bw() +\n  scale_fill_brewer(palette = \"GnBu\")\n\n\n\n\n\nIf we do a Borough wise Analysis, we see the following:\n\nThe boxplot for Manhattan indicates that the median daily salary is the lowest among all the boroughs, as shown by the line within the box being the furthest to the left.\nThe ridgeline plot for Manhattan is fairly broad, indicating a wider distribution of salaries with a long tail towards the higher end, which suggests that while the median salary is low, there are still a significant number of employees earning more.\nWe also see that Manhattan has the highest number of low-paid employees. In fact, the mode of Manhattan’s Daily salary is the lowest.\nThe distribution of salaries in the Bronx and Brooklyn is more concentrated around the median, with a steep drop-off on either side of the peak in the ridgeline plot.\nThe salary distribution of Staten Island has a more gradual slope on both sides of the peak, indicating a less concentrated spread of daily salaries than in Brooklyn or Bronx.\nQueens has the highest median daily salary of all the boroughs presented in the graph. The distribution of salaries in Queens, as depicted by the ridgeline plot, is quite broad, suggesting a more even spread of salaries across its range.\n\nWe also gain a significant amount of information by studying the modality of the data. The unimodal distributions in Staten Island and the Bronx suggest that many jobs may fall into a common pay range, which can be a positive sign for pay equity. However, it could also indicate a lack of higher-paying opportunities in these boroughs. The bimodal distribution in Manhattan, Queens and Brooklyn could reflect wage disparities, where there is a significant gap between lower-paid and higher-paid employees. This might require policy attention to ensure equitable pay across different job functions and sectors.Queens has a significant second peak, pointing to economic diversity within the borough, suggesting a mix of industries and sectors that offer a range of salary levels.\nAcross all boroughs, these implications suggest the need for tailored economic and workforce development policies that consider the unique salary distributions and economic landscapes of each borough."
  },
  {
    "objectID": "results.html#examination-of-salary-breakdown",
    "href": "results.html#examination-of-salary-breakdown",
    "title": "3  Results",
    "section": "3.2 Examination of Salary Breakdown",
    "text": "3.2 Examination of Salary Breakdown\n\n\nCode\npayroll_breakdown &lt;- clean_nyc_payroll %&gt;%\n  filter(Total.Other.Pay &gt; 0, Total.OT.Paid &gt; 0, OT.Hours &gt; 0) %&gt;%\n  mutate(Hourly.Salary = Daily.Salary / 24,\n         Hourly.OT = Total.OT.Paid / OT.Hours) %&gt;%\n  filter(\n    between(\n      Total.Other.Pay,\n      quantile(Total.Other.Pay, 0.25) - 1.5 * IQR(Total.Other.Pay),\n      quantile(Total.Other.Pay, 0.75) + 1.5 * IQR(Total.Other.Pay)\n    ),\n    between(\n      Hourly.Salary,\n      quantile(Hourly.Salary, 0.25) - 1.5 * IQR(Hourly.Salary),\n      quantile(Hourly.Salary, 0.75) + 1.5 * IQR(Hourly.Salary)\n    ),\n    between(\n      Hourly.OT,\n      quantile(Hourly.OT, 0.25) - 1.5 * IQR(Hourly.OT),\n      quantile(Hourly.OT, 0.75) + 1.5 * IQR(Hourly.OT)\n    )\n  ) |&gt;\n  mutate(\n    Hourly.Salary = (Hourly.Salary - min(Hourly.Salary)) / (max(Hourly.Salary) - min(Hourly.Salary)),\n    Hourly.OT = (Hourly.OT - min(Hourly.OT)) / (max(Hourly.OT) - min(Hourly.OT)),\n    Total.Other.Pay = (Total.Other.Pay - min(Total.Other.Pay)) / (max(Total.Other.Pay) - min(Total.Other.Pay))\n  )\n\n\npayroll_long &lt;- payroll_breakdown %&gt;%\n  pivot_longer(\n    cols = c(Hourly.Salary, Hourly.OT, Total.Other.Pay),\n    names_to = \"Pay.Type\",\n    values_to = \"Amount\"\n  )\n\nggplot(payroll_long,\n       aes(x = Work.Location.Borough, y = Amount, fill = Pay.Type)) +\n  geom_bar(position = \"dodge\", stat = \"identity\") +\n  labs(title = \"Comparison of Hourly Salary, Hourly OT, and Total Other Pay by Location\",\n       x = \"Location\",\n       y = \"Amount\") +\n  scale_fill_brewer(palette = \"Set2\") +\n  theme_bw()\n\n\n\n\n\nThe hourly salary seems to be quite consistent across boroughs. OT pay is similarly distributed across all the boroughs barring Staten Island. This could also be a result of lesser people working overtime in Staten Island, as the pay for OT is generally decided by policies fixed for the entire city. There is a noticeable difference in the ‘Total Other Pay’ across boroughs, with Manhattan and Brooklyn having higher amounts compared to the Bronx, Brooklyn, and Staten Island. There is a noticeable difference in the ‘Total Other Pay’ across boroughs, with Manhattan and Staten Island having higher amounts compared to the Bronx, Brooklyn, and Queens.\nNote that the data is normalized, and the comparison across boroughs reflects relative proportions rather than absolute values. This normalization allows for a fair assessment of the pay structure proportionally, rather than being skewed by a borough with a larger workforce or higher pay scales.\nThe consistency in hourly salary and OT across boroughs suggests that New York City may have standardized pay rates and overtime policies for hourly workers, promoting equity across different regions. The variation in ‘Total Other Pay’ may necessitate a closer look by policymakers to ensure that compensations are fair and justified by the differences in living costs or work conditions across boroughs. Understanding the composition of ‘Total Other Pay’ is crucial for HR and policymakers. If it includes bonuses or cost of living adjustments, it might be essential to evaluate their distribution and ensure they meet the employees’ needs in different boroughs."
  },
  {
    "objectID": "results.html#study-regarding-budget-allocation-for-each-borough",
    "href": "results.html#study-regarding-budget-allocation-for-each-borough",
    "title": "3  Results",
    "section": "3.3 Study Regarding Budget Allocation for Each Borough",
    "text": "3.3 Study Regarding Budget Allocation for Each Borough\n\n\nCode\nd3_data &lt;- read.csv(\"./Data/d3_data.csv\")\ngeojson_data &lt;- st_read(\"./Data/new-york-city-boroughs.geojson\")\n\n\nReading layer `new-york-city-boroughs' from data source \n  `D:\\Users\\athar\\Documents\\NYCPayroll\\Data\\new-york-city-boroughs.geojson' \n  using driver `GeoJSON'\nSimple feature collection with 5 features and 4 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -74.25559 ymin: 40.49612 xmax: -73.70001 ymax: 40.91553\nGeodetic CRS:  WGS 84\n\n\nCode\ngeojson_data$name &lt;- toupper(geojson_data$name)\n\npayroll_data_processed &lt;- d3_data %&gt;%\n  group_by(Work.Location.Borough) %&gt;%\n  summarise(Total.Daily.Salary = sum(Daily.Salary, na.rm = TRUE)) %&gt;%\n  ungroup()\n\ngeojson_data_processed &lt;- geojson_data %&gt;%\n  left_join(payroll_data_processed, by = c(\"name\" = \"Work.Location.Borough\"))\n\nboroughs_sf &lt;- st_as_sf(geojson_data_processed)\n\nboroughs_sf &lt;- boroughs_sf %&gt;%\n  st_make_valid()\n\nboroughs_centroids &lt;- boroughs_sf %&gt;%\n  filter(st_is_valid(.)) %&gt;%\n  st_centroid()\n\n# Plot the data focusing on New York City\nggplot(data = boroughs_sf) +\n  geom_sf(aes(fill = Total.Daily.Salary),\n          color = \"white\",\n          size = 0.2) +\n  geom_sf_text(\n    data = boroughs_centroids,\n    aes(label = name),\n    check_overlap = TRUE,\n    size = 3,\n    colour = \"firebrick\"\n  ) +\n  scale_fill_viridis_c(option = \"magma\", direction = -1) + # Use a color scale that is colorblind-friendly\n  theme_minimal() +\n  labs(fill = \"Total Daily Salary\", title = \"Sum of Daily Salaries per Borough in NYC\") +\n  coord_sf(datum = NA)\n\n\n\n\n\nThe total daily salary in a borough can be used to study and understand how the budget should be allocated in the city of New York. We see that Manhattan is clearly the highest on the upper end of the scale, while other boroughs are on the lower end of the scale. This is after we have removed anomalies from the data, which actually goes on to show how much money is spent on salaries in Manhattan. Despite removing outliers, Manhattan and other boroughs are on the extremities of the color scale, indicating the huge difference in salaries.\nStaten Island spends the least amount on daily salaries, and this should be accounted for while budgeting. This could also be a result of lesser number of jobs and workers in Staten Island, stemming from a smaller population. Queens has the second highest amount of money spent on salaries.\nWhile making policies, these factors should be considered. We know that NYC is the financial capital of the world, but we see that the highest contribution to this, is from the borough of Manhattan. Manhattan is also the most densely populated borough, which shows the highest number of workers and hence the highest amount of money spent on daily salaries."
  },
  {
    "objectID": "results.html#influence-of-geographic-location-on-workers",
    "href": "results.html#influence-of-geographic-location-on-workers",
    "title": "3  Results",
    "section": "3.4 Influence of Geographic Location on Workers",
    "text": "3.4 Influence of Geographic Location on Workers\n\n\nCode\nclean_nyc_payroll$Work.Location.Borough &lt;-\n  factor(clean_nyc_payroll$Work.Location.Borough)\n\nggplot(clean_nyc_payroll, aes(x = fct_infreq(Work.Location.Borough))) +\n  geom_bar(fill = \"cornflowerblue\") +\n  theme_minimal() +\n  labs(\n    title = \"Distribution of Work place location\",\n    subtitle = \"Bar Plot\",\n    x = \"Borough\",\n    y = \"Number of Workers\"\n  )\n\n\n\n\n\nThe bar chart presents a graphical representation of New York City’s worker distribution, with a clear skew towards Manhattan. This suggests Manhattan’s role as the economic powerhouse of the city. This concentration of workers in Manhattan can be attributed to several factors, such as its status as the epicenter of the global financial industry, housing the headquarters of numerous Fortune 500 companies, and boasting a well-established commercial infrastructure.\nHowever, the substantial drop in the number of workers in the other boroughs raises concerns about economic diversity and employment opportunities outside of Manhattan. This uneven distribution may result in a lack of job accessibility for residents living in the outer boroughs, which could translate into longer commutes, reduced quality of life, and increased traffic congestion. Moreover, it might exacerbate income inequality and limit upward mobility for those unable to secure employment in the city’s economic hub. Such trends are already visible in NYC and it is a well known fact that Manhattan has the best quality of life in the city, although very expensive."
  },
  {
    "objectID": "results.html#analysis-of-prominent-municipal-agencies-in-nyc",
    "href": "results.html#analysis-of-prominent-municipal-agencies-in-nyc",
    "title": "3  Results",
    "section": "3.5 Analysis of Prominent Municipal Agencies in NYC",
    "text": "3.5 Analysis of Prominent Municipal Agencies in NYC\n\n\nCode\n# Assuming clean_nyc_payroll is your dataset\nagency_counts &lt;- clean_nyc_payroll %&gt;%\n  count(Agency.Name) %&gt;%\n  arrange(desc(n))\n\n# Select the top 20 agencies\ntop_agencies &lt;- head(agency_counts, 25)\n\n# Create a category variable based on the count\ntop_agencies$category &lt;- cut(\n  top_agencies$n,\n  breaks = c(0, 150,  Inf),\n  labels = c(\"0-150\", \"150-2000\"),\n  include.lowest = TRUE\n)\n\n# Create the plot\nggplot(top_agencies, aes(x = reorder(Agency.Name, n), y = n)) +\n  geom_segment(aes(xend = Agency.Name, yend = 0), color = \"skyblue\") +\n  geom_point(color = \"blue\", size = 3) +\n  facet_wrap( ~ category, scales = \"free\", ncol = 1) +\n  coord_flip() +\n  labs(\n    title = \"Number of Workers in Top 20 Agencies by Category\",\n    subtitle = \"Faceted Cleveland Plot\",\n    y = \"Number of Workers\",\n    x = \"Agency\"\n  ) +\n  \n  theme_bw()\n\n\n\n\n\nUsing the Cleveland plot we have distinctly categorized the workforce across NYC’s leading agencies showing a strategic allocation of resources, with a notable focus on education and public safety. This distribution highlights the city’s emphasis on education and public safety, potentially at the expense of other services. However, the significant disparity in employee numbers between these agencies and others, such as community colleges and and citywide administration, leads to questions about policy decisions impacting city employment. Are the city’s financial resources being channeled appropriately to meet the diverse needs of its population, or is there room for reallocation to address other critical services and maintain a balanced city ecosystem?\nThese disparities in workforce distribution should be taken into consideration while framing policies surrounding city employment and budget allocation. By addressing these questions, New York City can make informed, data-driven decisions to optimize its workforce deployment, ensuring that it adequately serves all residents and maintains a harmonious balance between essential services. Such considerations are essential for the city’s continued growth and the well-being of its communities."
  },
  {
    "objectID": "results.html#important-jobs-by-boroughs",
    "href": "results.html#important-jobs-by-boroughs",
    "title": "3  Results",
    "section": "3.6 Important Jobs by Boroughs",
    "text": "3.6 Important Jobs by Boroughs\n\n\nCode\ntitle_counts &lt;- clean_nyc_payroll %&gt;%\n  count(Title.Description, Work.Location.Borough)\n\ntop_titles &lt;- title_counts %&gt;%\n  group_by(Title.Description) %&gt;%\n  summarise(Total = sum(n)) %&gt;%\n  top_n(20, Total) %&gt;%\n  pull(Title.Description)\n\nfiltered_title_counts &lt;- title_counts %&gt;%\n  filter(Title.Description %in% top_titles)\n\nwide_data &lt;- filtered_title_counts %&gt;%\n  pivot_wider(\n    names_from = Work.Location.Borough,\n    values_from = n,\n    values_fill = list(n = 0)\n  )\n\n\nlong_data &lt;- wide_data %&gt;%\n  pivot_longer(\n    cols = -Title.Description,\n    names_to = \"Borough\",\n    values_to = \"Count\"\n  )\n\nggplot(long_data, aes(x = Borough, y = Title.Description, fill = Count)) +\n  geom_tile() +\n  scale_fill_viridis_c() +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  labs(\n    title = \"Top 20 Job Titles by Borough\",\n    subtitle = \"Heatmap\",\n    x = \"Borough\",\n    y = \"Job Profile\"\n  )\n\n\n\n\n\nThis heatmap provides a visual representation of the distribution of the top 20 job titles among New York City’s municipal workers across its five boroughs: Bronx, Brooklyn, Manhattan, Queens, and Staten Island. Some job titles appear to be common across multiple boroughs, indicated by a consistent color across the row. For example, Police Officers and Fire-Fighters are uniformly distributed across several boroughs. This could suggest that safety and essential services related positions are widely needed and filled across NYC. On the other hand, certain job titles have a pronounced presence in specific boroughs, portrayed by a distinct color block, indicating unique needs or administrative focuses of that borough. We see that teachers are highly concentrated in Manhattan, and their presence in other boroughs is significantly lesser. This could be explained by the fact that Manhattan is most densely populated, and will have more students, resulting in a large number of teachers. The need of the borough has brought about job opportunities of a certain type.\nAnother interesting fact which is noticed is that the Top 20 job titles by borough are quite diverse, and encapsulate different parts of society, with a focus on education. This is reflective of NYC’s policy priorities and its commitment to education at various levels, from special education to general education. Moreover, there is a need not onlyfor general education teachers but also for specialized roles such as “Teacher Special Education” and “Annual Ed Para,” which suggests that NYC values a diverse educational workforce capable of meeting a wide range of student needs."
  },
  {
    "objectID": "results.html#gauging-fairness-of-overtime-pay",
    "href": "results.html#gauging-fairness-of-overtime-pay",
    "title": "3  Results",
    "section": "3.7 Gauging Fairness of Overtime Pay",
    "text": "3.7 Gauging Fairness of Overtime Pay\n\n\nCode\n# Calculate total years of experience\nclean_nyc_payroll$Total.Years.of.Experience &lt;-\n  clean_nyc_payroll$Fiscal.Year - as.numeric(format(\n    as.Date(clean_nyc_payroll$Agency.Start.Date, \"%m/%d/%Y\"),\n    \"%Y\"\n  ))\n\nclean_nyc_payroll$Work.Location.Borough &lt;-\n  as.factor(clean_nyc_payroll$Work.Location.Borough)\n\n# Filter data\nfiltered_data &lt;- clean_nyc_payroll %&gt;%\n  filter(OT.Hours &lt; 1500, Total.OT.Paid &gt; 0, Daily.Salary &lt; 1000)\np &lt;- ggparcoord(\n  filtered_data,\n  columns = c(19, 18, 15:16),\n  groupColumn = \"Work.Location.Borough\",\n  alphaLines = 0.5,\n  showPoints = TRUE\n) +\n  theme_minimal() +\n  labs(\n    title = \"Overtime compensation compared to Daily Salary and Work Experience\",\n    subtitle = \"Interactive Parallel Plot \",\n    x = \"Variables\",\n    y = \"Scaled Values\"\n  )\n\n\nplotly_plot &lt;- ggplotly(p)\nplotly_plot\n\n\n\n\n\n\nThis plot illustrates the relationships between the total years of work experience, daily salary, overtime (OT) hours worked, and the total amount of overtime paid to municipal workers in different boroughs of New York City. It appears that there isn’t a strong, consistent relationship between years of experience and daily salary across all boroughs. This is indicated by the crisscrossing lines between these two variables. In some cases, more experience correlates with a higher daily salary, but this isn’t uniform across the dataset. The variation in daily salary across similar years of experience may point to differing pay scales based on job title, level of education, or other factors not depicted in the graph. This reflects the complexity of compensation policies within a large municipal workforce.\nThere seems to be a more direct relationship between OT hours and total OT paid, as one would expect. The lines between these two variables are more consistently increasing, which suggests that workers who put in more OT hours also receive higher total OT compensation. From a policy perspective, the graph suggests that NYC’s overtime policies are likely standardized, given the consistent relationship between OT hours and OT pay. Workers are compensated for overtime regardless of their borough, which would be in line with labor laws and regulations.\nThe relationship between daily salary and OT hours isn’t as clear-cut. Some workers with lower daily salaries appear to work more OT hours, while others with higher salaries work fewer OT hours, implying a negative correlation. This could imply that OT is not solely influenced by the salary but perhaps by the demands of the job or the availability of workers to cover shifts. It could also mean that workers who are well paid, do not feel the need to work overtime to live a sustainable life. However, the municipal employees who earn smaller figures, need to work a lot more to survive in a city as expensive as New York. It could also be the case that those with more OT hours might be in departments with greater workload demands or insufficient staffing, prompting a need for more overtime.\nThe colors representing different boroughs show that there is some variation in how experience, daily salary, OT hours, and OT pay interact across different parts of the city. We can see that higher salaries are generally associated with Manhattan. However, some of the lowest salaries are also associated with Manhattan showing a wide spread of roles and salaries.\nA worrying factor is that some data points show the highest OT hours, but do not indicate matching OT pay. This could be indicative of potential for overtime abuse. Such issues should be monitored more closely. In terms of overall workforce policy, if NYC’s compensation for overtime is consistent across boroughs and tied clearly to hours worked, it suggests a policy that fairly compensates additional work hours. However, if the data shows discrepancies that cannot be explained by job role or seniority, it could indicate areas where policy might need to be reviewed to ensure equity and prevent excessive overtime accumulation."
  },
  {
    "objectID": "results.html#analysis-of-overtime-pay-against-daily-salaries",
    "href": "results.html#analysis-of-overtime-pay-against-daily-salaries",
    "title": "3  Results",
    "section": "3.8 Analysis of Overtime Pay Against Daily Salaries",
    "text": "3.8 Analysis of Overtime Pay Against Daily Salaries\n\n\nCode\n# Assuming clean_nyc_payroll is your dataset\n# Define a threshold for outliers (e.g., 1.5 standard deviations from the mean)\nsalary_sd &lt;- 1.5 * sd(clean_nyc_payroll$Base.Salary, na.rm = TRUE)\not_sd &lt;- 1.5 * sd(clean_nyc_payroll$Total.OT.Paid, na.rm = TRUE)\nsalary_mean &lt;- mean(clean_nyc_payroll$Base.Salary, na.rm = TRUE)\not_mean &lt;- mean(clean_nyc_payroll$Total.OT.Paid, na.rm = TRUE)\n\nmin_salary_threshold &lt;- 10000\nmin_ot_paid &lt;- 1000\n\nnyc_payroll_filtered &lt;-\n  clean_nyc_payroll[abs(clean_nyc_payroll$Base.Salary - salary_mean) &lt; salary_sd &\n                      abs(clean_nyc_payroll$Total.OT.Paid - ot_mean) &lt; ot_sd &\n                      clean_nyc_payroll$Base.Salary &gt; min_salary_threshold &\n                      clean_nyc_payroll$Total.OT.Paid &gt; min_ot_paid, ]\n\n# Create a new variable for color based on Base Salary being below or above $70,000\nnyc_payroll_filtered$Salary.Color &lt;-\n  ifelse(nyc_payroll_filtered$Base.Salary &lt; 85000, \"green\", \"red\")\n\n# Create the scatter plot with filtered data and colored points\nggplot(nyc_payroll_filtered,\n       aes(x = Base.Salary, y = Total.OT.Paid, color = Salary.Color)) +\n  geom_point() +\n  labs(title = \"Scatter Plot of Base Salary vs. Total OT Paid (Without Outliers)\",\n       x = \"Base Salary\",\n       y = \"Total OT Paid\") +\n  scale_color_identity() + # Use the actual colors specified in Salary.Color\n  theme_bw()\n\n\n\n\n\nWe see that the daily salary range extends from around $30,000 to just over $100,000, which likely reflects the broad range of job titles and responsibilities within the municipal workforce. The total OT paid also shows a wide range, from near $0 to over $15,000, indicating that overtime compensation varies greatly among employees.\nThere doesn’t appear to be a strong linear correlation between daily salary and total OT paid. However, the low to mid daily salaries (green dots) have a much higher density a compared to the higher salaries (red dots). For the cluster with lower base salaries (green dots), the total OT paid varies significantly. This suggests that employees with lower base salaries may rely on OT for a significant addition to their income, and the opportunity to work OT might be more variable or widespread in roles with lower base salaries. The cluster with higher base salaries (red dots) also shows a wide variation in OT pay, including some points with very high OT compensation. This could indicate that certain positions with higher base salaries also have the potential for substantial overtime work, which may be due to specialized skills, emergency response roles, or managerial responsibilities that require extended hours.\nThe lack of a clear upward or downward trend suggests that overtime pay is not necessarily a function of base salary. Policies regarding overtime may be influenced by operational needs rather than compensation levels. The data could be used to assess whether current policies ensure fair compensation for overtime across all salary levels. Moreover, Since the outliers have been removed, the data appears to be within expected ranges, indicating that the overtime pay is likely within the guidelines and policies set by the city.\nThere is also a concentration of dots (both green and red) around certain base salary levels, such as around $50,000 and $90,000. This could indicate standard salary levels for specific roles within the municipal workforce. M\nIn conclusion, the scatter plot suggests that in NYC, both lower and higher base salary employees have the potential to earn varying amounts of overtime pay. This implies a diverse range of job roles and responsibilities that may necessitate irregular working hours, reflecting the complexity and demands of working within the city’s municipal structure."
  },
  {
    "objectID": "results.html#analysis-of-the-workforces-preference-for-leave-status-and-pay-basis",
    "href": "results.html#analysis-of-the-workforces-preference-for-leave-status-and-pay-basis",
    "title": "3  Results",
    "section": "3.9 Analysis of the Workforce’s Preference for Leave Status and Pay Basis",
    "text": "3.9 Analysis of the Workforce’s Preference for Leave Status and Pay Basis\n\n\nCode\ntable(clean_nyc_payroll$Leave.Status.as.of.June.30)\n\n\n\n             ACTIVE              CEASED            ON LEAVE ON SEPARATION LEAVE \n               7460                1208                  98                  17 \n           SEASONAL \n                 73 \n\n\nWe see that most of the leave statuses apart from “ACTIVE” and “CEASED” are negligible and will not contribute to the overall information gained. Hence, we consider only these 2 values and proceed to the next graph for analysis.\n\n\nCode\nalluvial_data &lt;-\n  clean_nyc_payroll |&gt; filter(Leave.Status.as.of.June.30 %in% c(\"ACTIVE\", \"CEASED\")) |&gt;\n  count(Work.Location.Borough, Pay.Basis, Leave.Status.as.of.June.30) |&gt;\n  rename(\n    axis1 = Work.Location.Borough,\n    axis2 = Pay.Basis,\n    axis3 = Leave.Status.as.of.June.30,\n    Freq = n\n  )\n\nordered_levels &lt;- alluvial_data %&gt;%\n  group_by(axis1) %&gt;%\n  summarize(total_count = sum(Freq)) %&gt;%\n  arrange(total_count) %&gt;%\n  pull(axis1)\n\nalluvial_data$axis1 &lt;-\n  factor(alluvial_data$axis1, levels = rev(ordered_levels))\n\n\nggplot(alluvial_data,\n       aes(\n         axis1 = axis1,\n         axis2 = axis2,\n         axis3 = axis3,\n         y = Freq\n       )) +\n  geom_alluvium(aes(fill = axis1)) +\n  geom_stratum() +\n  geom_text(stat = \"stratum\",\n            aes(label = paste(\n              after_stat(stratum), \"\\n\", after_stat(count)\n            )),\n            size = 1.8,\n            vjust = 0.7) +\n  scale_x_discrete(limits = c(\"Boroughs\", \"Pay Basis\", \"Leave Status\")) +\n  labs(\n    title = \"Variation of Leave Status and Pay Basis by Boroughs\",\n    subtitle = \"Using Alluvial Plots\",\n    x = \"Variable Being Assessed\",\n    y = \"Frequency\",\n    fill = \"Boroughs\"\n  )\n\n\n\n\n\nFrom the plot we see that Manhattan has the highest frequency, followed by Queens, Brooklyn, Bronx, and Staten Island, indicating that Manhattan has the highest number of employees under consideration for the dataset. The majority of employees across all boroughs are on an annual pay basis, followed by those paid per day, and then per hour. This suggests that full-time, salaried positions are more common than part-time or hourly positions in these boroughs. A significant number of employees, regardless of pay basis, are active, which is reflected by the thick lines flowing into the ‘ACTIVE’ category. However, there is also a notable portion that has ‘CEASED’ employment, as indicated by the lines flowing into this category. A higher number of ceased statuses may suggest issues with employee retention, job satisfaction, or other systemic problems that HR might need to address.\nSome noticable trends have been described below:\n\nThe most common pay basis across all boroughs is “per annum”, suggesting a large proportion of the workforce is employed on a full-time, salaried basis. This implies stable employment conditions and potentially more consistent work hours and benefits.x`\nEmployees from Manhattan have a larger representation in the per annum pay basis, indicating a higher number of full-time positions.\nThere is a substantial flow from the per annum and per day pay basis to the active status, suggesting that full-time and daily-wage employees currently retain their positions.\nThe per hour pay basis has a relatively balanced distribution between active and ceased statuses, possibly reflecting the transient nature of hourly employment.\nThe active status dominates across all boroughs, indicating that the majority of employees are currently engaged in their jobs. This is a positive sign of a stable workforce.\n\nHR can use this data to understand workforce distribution and manage resources accordingly. Knowing that Manhattan has the highest number of employees can help in regional HR planning. The predominance of annual pay basis can influence benefits, leave policies, and job security measures that HR develops. Moreover, the transition from pay basis to leave status can help HR investigate the retention rates among different employment types and address any concerns in specific categories. HR can also use the distribution of pay basis to create competitive compensation strategies to attract and retain talent, especially in boroughs with a lower frequency of employees. Finally, the data on ceased employment can aid in risk assessments and in identifying patterns that may indicate systemic issues within certain boroughs or pay categories."
  },
  {
    "objectID": "d3graph.html",
    "href": "d3graph.html",
    "title": "4  Interactive Graph",
    "section": "",
    "text": "Variation of Average Daily Salaries Per Year by Borough\n\nThe interactive plot here shows a pie chart which indicates the mean daily salary in each borough for a given year. Our data has been randomly sampled and the outliers have been removed. On hovering over each section, we see which segment corresponds to which borough.\n\n\n\n\n\nInferences:\n\nFor most of the years, we see that all the boroughs have similar proportions of the mean average salary. Based on all our previous studies, we would expect Manhattan to have a very high mean daily salary. However, most of the high salaries were outliers and have been removed. Now, we see that Manhattan actually has one of the lower mean daily salaries, due to the large number of employees who earn minimum wage.\nAnother trend which we would not expect, is that the mean daily salary of Staten Island is actually the highest across time. This seems counter-intuitive, but can be explained by the fact the number of workers in Staten Island might be the lowest.\nHowever, when we consider the order or ranking of each borough, based on the average daily salary, we see that this order changes per year. This could be indicative of a migration of municipal workers over time, and the change in policies, entailing varying salaries every year."
  },
  {
    "objectID": "conclusion.html#main-takeaway",
    "href": "conclusion.html#main-takeaway",
    "title": "5  Conclusion",
    "section": "5.1 Main Takeaway:",
    "text": "5.1 Main Takeaway:\nThe main notable takeaway is that compensation is not only influenced by job title and work experience but also significantly by the borough in which employees work. Manhattan, often perceived as the economic powerhouse of NYC, surprisingly showed the lowest median daily pay in our salary distribution analysis. The overtime pay, while relatively consistent across boroughs, revealed that ‘Total Other Pay’ varied, hinting at borough-specific compensation strategies that may reflect the cost of living or additional borough-specific duties. Our analysis of the leave status and workforce dynamics highlighted the active and ceased statuses of employees, providing a window into workforce availability and turnover rates. The alluvial and parallel coordinates plots have been particularly revealing, showing the complex interplay between pay basis, work location, and leave status. Showing that the dynamics of payroll of workers is very complex dependent on lot of factors."
  },
  {
    "objectID": "conclusion.html#limitations",
    "href": "conclusion.html#limitations",
    "title": "5  Conclusion",
    "section": "5.2 Limitations:",
    "text": "5.2 Limitations:\nOur study was constrained by the scope of available data and its representation. The normalization process, while enabling fair comparisons, also obscures the raw numerical values and potential extremes that could offer additional insights. Moreover, the inherent complexity and multifaceted nature of New York’s municipal workforce mean that our analysis can only illuminate trends rather than pinpoint causations."
  },
  {
    "objectID": "conclusion.html#future-scope",
    "href": "conclusion.html#future-scope",
    "title": "5  Conclusion",
    "section": "5.3 Future Scope:",
    "text": "5.3 Future Scope:\nOur study can be leveraged by the NYC City Council to better align budgetary decisions with employee welfare. Future score includes integrating this analysis data with broader economic metrics and employee feedback, the Council can adjust compensation structures to more fairly reflect the cost of living differences across boroughs and address disparities. This data-driven approach will aid in crafting targeted policies to enhance job satisfaction and welfare, ensuring a well-supported municipal workforce and efficient allocation of the city’s resources."
  },
  {
    "objectID": "conclusion.html#lessons-learned",
    "href": "conclusion.html#lessons-learned",
    "title": "5  Conclusion",
    "section": "5.4 Lessons Learned:",
    "text": "5.4 Lessons Learned:\nIn our study of New York City’s payroll data, we have gotten better at asking the right questions and using detailed plots to untangle the complex salary data. We have seen firsthand how tools like alluvial plot and parallel coordinates can reveal the story behind the data, and how interactive visuals can make those stories clear and engaging."
  }
]